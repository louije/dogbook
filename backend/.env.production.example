# Production environment configuration for niche.example.com
# Copy this to .env on the production server and fill in the values

# Session secret - MUST be a random 32+ character string in production
SESSION_SECRET=CHANGE-ME-TO-A-RANDOM-32-CHAR-STRING

# Frontend build hook - Netlify deploy hook URL for example.com
# Get this from: Netlify Dashboard → Site settings → Build & deploy → Build hooks
FRONTEND_BUILD_HOOK_URL=

# Database - points to persistent data directory
# SQLite optimizations for production:
# - WAL mode for better concurrency (multiple readers, one writer)
# - NORMAL synchronous for good balance of safety and speed
# - connection_limit=1 recommended for SQLite to avoid locking issues
DATABASE_URL=file:../data/keystone.db?connection_limit=1&socket_timeout=10&pool_timeout=10

# Node environment
NODE_ENV=production

# Port (must match systemd service)
PORT=3002

# Frontend URL for CORS (if needed)
FRONTEND_URL=https://example.com

# Web Push Notifications (optional)
# Generate with: npx web-push generate-vapid-keys
VAPID_PUBLIC_KEY=
VAPID_PRIVATE_KEY=
VAPID_SUBJECT=mailto:admin@example.com

# R2 Backup (optional)
# Set this to enable backups to Cloudflare R2
# Run: sudo ./deploy/setup-r2-backup.sh to configure
R2_BUCKET=
